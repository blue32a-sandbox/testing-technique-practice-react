@startuml スマホ決済アプリの決済処理
[*] --> 操作待機
操作待機 --> バーコード読取待機 : 読取ボタンを押下
バーコード読取待機 --> 操作待機 : キャンセルボタン押下
バーコード読取待機 --> 金額確認 : バーコードを読み取る
金額確認 --> 操作待機 : キャンセルボタン押下
金額確認 --> 決済結果待ち : 決済ボタン押下
決済結果待ち --> 決済成功 : 決済成功を受信
決済結果待ち --> 決済失敗 : 決済失敗を受信
決済成功 --> 操作待機 : OKボタン押下
決済失敗 --> 操作待機 : OKボタン押下
決済失敗 --> バーコード読取待機 : 再読取ボタン押下
@enduml
